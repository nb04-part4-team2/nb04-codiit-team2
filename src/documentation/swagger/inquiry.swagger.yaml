# ========================================
# Inquiry API Swagger Documentation
# ========================================
# 작성일: 2025-01-05
# 도메인: 문의(Inquiry) 관리
# 총 8개 엔드포인트
#
# 엔드포인트 구조:
# 중첩 라우터 (상품별 문의)
#    GET  /api/products/:productId/inquiries
#    POST /api/products/:productId/inquiries
#
# 메인 라우터 (문의 관리)
#    GET    /api/inquiries
#    GET    /api/inquiries/:id
#    PATCH  /api/inquiries/:id
#    DELETE /api/inquiries/:id
#    POST   /api/inquiries/:id/replies
#    PATCH  /api/inquiries/:id/replies
# ========================================

paths:
  # ========================================
  # 중첩 라우터: 상품별 문의
  # ========================================

  /api/products/{productId}/inquiries:
    get:
      tags:
        - Inquiry
      summary: 특정 상품의 모든 문의 조회
      description: |
        특정 상품에 작성된 문의 목록을 페이지네이션으로 조회합니다.

        인증 불필요:
        Public API (누구나 접근 가능)

        페이지네이션:
        기본값: `page=1`, `pageSize=5`
      parameters:
        - name: productId
          in: path
          required: true
          description: 상품 ID (`CUID` 포맷)
          schema:
            type: string
            example: 'cmjtknx7h001dp701iu8z3mno'
        - name: page
          in: query
          required: false
          description: 페이지 번호 (1부터 시작)
          schema:
            type: integer
            minimum: 1
            default: 1
            example: 1
        - name: pageSize
          in: query
          required: false
          description: 페이지당 항목 수 (기본값 5)
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 5
            example: 5
      responses:
        '200':
          description: 문의 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    description: 문의 목록
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: 문의 ID
                          example: 'cmjtko5xt001fp701b8m2r9pq'
                        userId:
                          type: string
                          description: 문의 작성자 ID
                          example: 'cmjthper90001p7017spnm7y5'
                        productId:
                          type: string
                          description: 상품 ID
                          example: 'cmjtknx7h001dp701iu8z3mno'
                        title:
                          type: string
                          description: 문의 제목 (1-100자)
                          example: 'M 사이즈 재입고 예정 있나요?'
                        content:
                          type: string
                          description: 문의 내용 (1-1000자, 비밀글인 경우 권한에 따라 마스킹 가능)
                          example: 'M 사이즈가 품절이라서 문의드립니다. 재입고 예정이 있을까요?'
                        status:
                          type: string
                          description: 문의 상태
                          enum:
                            - WaitingAnswer
                            - CompletedAnswer
                          example: 'WaitingAnswer'
                        isSecret:
                          type: boolean
                          description: 비밀글 여부
                          example: false
                        createdAt:
                          type: string
                          format: date-time
                          description: 문의 생성 일시
                          example: '2025-01-05T10:30:00.000Z'
                        updatedAt:
                          type: string
                          format: date-time
                          description: 문의 수정 일시
                          example: '2025-01-05T10:30:00.000Z'
                        user:
                          type: object
                          description: 문의 작성자 정보
                          properties:
                            name:
                              type: string
                              example: '구매자닉네임'
                        reply:
                          type: object
                          nullable: true
                          description: 판매자 답변 (없으면 null)
                          properties:
                            id:
                              type: string
                              description: 답변 ID
                              example: 'cmjtko9kl001hp701x3y8w5tz'
                            inquiryId:
                              type: string
                              description: 문의 ID
                              example: 'cmjtko5xt001fp701b8m2r9pq'
                            userId:
                              type: string
                              description: 답변 작성자(판매자) ID
                              example: 'cmjthpery0003p701k9l2m5xq'
                            content:
                              type: string
                              description: 답변 내용 (1-500자)
                              example: '다음 주 월요일에 M 사이즈 재입고 예정입니다. 감사합니다!'
                            createdAt:
                              type: string
                              format: date-time
                              example: '2025-01-05T14:20:00.000Z'
                            updatedAt:
                              type: string
                              format: date-time
                              example: '2025-01-05T14:20:00.000Z'
                            user:
                              type: object
                              description: 답변 작성자 정보
                              properties:
                                name:
                                  type: string
                                  example: '판매자닉네임'
                  totalCount:
                    type: integer
                    description: 전체 문의 개수
                    example: 23
        '404':
          description: 상품을 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '상품이 존재하지 않습니다.'

    post:
      tags:
        - Inquiry
      summary: 문의 생성
      description: |
        특정 상품에 대한 문의를 생성합니다.

        인증 필요:
        `Bearer 토큰 필수`

        권한:
        `BUYER` 전용

        제약사항:
        제목: `1-100자`
        내용: `1-1000자`
        비밀글: `true`/`false` (기본값 `false`)

        비밀글 설정:
        `true`: 작성자와 판매자만 내용 확인 가능
        `false`: 모든 사용자가 확인 가능
      parameters:
        - name: productId
          in: path
          required: true
          description: 상품 ID (`CUID` 포맷)
          schema:
            type: string
            example: 'cmjtknx7h001dp701iu8z3mno'
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
              properties:
                title:
                  type: string
                  minLength: 1
                  maxLength: 100
                  description: 문의 제목
                  example: '제품 사이즈 문의드립니다'
                content:
                  type: string
                  minLength: 1
                  maxLength: 1000
                  description: 문의 내용
                  example: '170cm 60kg인데 L 사이즈와 XL 사이즈 중 어떤 사이즈가 적당할까요?'
                isSecret:
                  type: boolean
                  description: 비밀글 여부 (기본값 false)
                  default: false
                  example: false
      responses:
        '201':
          description: 문의 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 생성된 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 문의 작성자 ID
                    example: 'cmjthper90001p7017spnm7y5'
                  productId:
                    type: string
                    description: 상품 ID
                    example: 'cmjtknx7h001dp701iu8z3mno'
                  title:
                    type: string
                    description: 문의 제목
                    example: '제품 사이즈 문의드립니다'
                  content:
                    type: string
                    description: 문의 내용
                    example: '170cm 60kg인데 L 사이즈와 XL 사이즈 중 어떤 사이즈가 적당할까요?'
                  status:
                    type: string
                    description: 문의 상태 (생성 시 항상 WaitingAnswer)
                    enum:
                      - WaitingAnswer
                    example: 'WaitingAnswer'
                  isSecret:
                    type: boolean
                    description: 비밀글 여부
                    example: false
                  createdAt:
                    type: string
                    format: date-time
                    description: 문의 생성 일시
                    example: '2025-01-05T11:45:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 문의 수정 일시
                    example: '2025-01-05T11:45:00.000Z'
        '400':
          description: 잘못된 요청 (유효성 검증 실패)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '유효성 검증에 실패했습니다.'
                  details:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          example: 'title'
                        message:
                          type: string
                          example: '제목은 1-100자 이내여야 합니다.'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'
        '404':
          description: 상품을 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '상품이 존재하지 않습니다.'

  # ========================================
  # 메인 라우터: 문의 관리
  # ========================================

  /api/inquiries:
    get:
      tags:
        - Inquiry
      summary: 사용자 본인의 모든 문의 조회
      description: |
        현재 로그인한 사용자의 모든 문의 목록을 조회합니다.

        인증 필요:
        `Bearer 토큰 필수`

        사용자 타입별 동작:
        `BUYER`: 자신이 작성한 문의 조회
        `SELLER`: 자신의 스토어 상품에 달린 문의 조회

        응답 정보:
        문의 기본 정보
        연관된 상품 정보 (이름, 이미지, 가격)
        연관된 스토어 정보 (이름)
        답변 정보 (있는 경우)

        페이지네이션:
        기본값: page=1, pageSize=100

        필터:
        status: WaitingAnswer, CompletedAnswer
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          required: false
          description: 페이지 번호 (1부터 시작)
          schema:
            type: integer
            minimum: 1
            default: 1
            example: 1
        - name: pageSize
          in: query
          required: false
          description: 페이지당 항목 수 (기본값 100)
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 100
            example: 20
        - name: status
          in: query
          required: false
          description: 문의 상태 필터
          schema:
            type: string
            enum:
              - WaitingAnswer
              - CompletedAnswer
            example: 'WaitingAnswer'
      responses:
        '200':
          description: 문의 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    description: 문의 목록
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: 문의 ID
                          example: 'cmjtkobr3001jp701z4x9n2kq'
                        title:
                          type: string
                          description: 문의 제목
                          example: '배송 기간이 얼마나 걸리나요?'
                        content:
                          type: string
                          description: 문의 내용
                          example: '급하게 필요한 상품이라 배송 기간이 궁금합니다.'
                        status:
                          type: string
                          description: 문의 상태
                          enum:
                            - WaitingAnswer
                            - CompletedAnswer
                          example: 'WaitingAnswer'
                        isSecret:
                          type: boolean
                          description: 비밀글 여부
                          example: false
                        createdAt:
                          type: string
                          format: date-time
                          description: 문의 생성 일시
                          example: '2025-01-05T09:15:00.000Z'
                        user:
                          type: object
                          description: 문의 작성자 정보
                          properties:
                            id:
                              type: string
                              example: 'cmjthper90001p7017spnm7y5'
                            name:
                              type: string
                              example: '구매자닉네임'
                        product:
                          type: object
                          description: 연관된 상품 정보
                          properties:
                            id:
                              type: string
                              example: 'cmjtknx7h001dp701iu8z3mno'
                            name:
                              type: string
                              description: 상품명
                              example: '코디잇 오버핏 후드티'
                            image:
                              type: string
                              nullable: true
                              description: 상품 대표 이미지 URL
                              example: 'https://codiit-images.s3.ap-northeast-2.amazonaws.com/product-hoodie-main.jpg'
                            store:
                              type: object
                              description: 상품의 스토어 정보
                              properties:
                                id:
                                  type: string
                                  example: 'cmjtkn0td0017p701tp5nwslg'
                                name:
                                  type: string
                                  description: 스토어명
                                  example: '코디잇 패션스토어'
                  totalCount:
                    type: integer
                    description: 전체 문의 개수
                    example: 15
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'

  /api/inquiries/{id}:
    get:
      tags:
        - Inquiry
      summary: 특정 문의 상세 조회
      description: |
        문의 ID로 특정 문의의 상세 정보를 조회합니다.

        비밀글 처리:
        비밀글이 아닌 경우: 모든 사용자 조회 가능
        비밀글인 경우:
          작성자: 조회 가능
          상품 판매자: 조회 가능
          기타: 403 Forbidden

        응답 정보:
        문의 상세 정보
        작성자 정보
        상품 정보 (이름, 이미지, 가격, 카테고리)
        스토어 정보
        답변 정보 (있는 경우)

        인증 불필요:
        Public API (누구나 접근 가능)

      parameters:
        - name: id
          in: path
          required: true
          description: 문의 ID (CUID 포맷)
          schema:
            type: string
            example: 'cmjtkobr3001jp701z4x9n2kq'
      responses:
        '200':
          description: 문의 상세 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 문의 작성자 ID
                    example: 'cmjthper90001p7017spnm7y5'
                  productId:
                    type: string
                    description: 상품 ID
                    example: 'cmjtknx7h001dp701iu8z3mno'
                  title:
                    type: string
                    description: 문의 제목
                    example: '상품 재질이 어떻게 되나요?'
                  content:
                    type: string
                    description: 문의 내용
                    example: '면 100%인지 아니면 혼방인지 궁금합니다. 자세한 소재 정보 부탁드립니다.'
                  status:
                    type: string
                    description: 문의 상태
                    enum:
                      - WaitingAnswer
                      - CompletedAnswer
                    example: 'CompletedAnswer'
                  isSecret:
                    type: boolean
                    description: 비밀글 여부
                    example: false
                  createdAt:
                    type: string
                    format: date-time
                    description: 문의 생성 일시
                    example: '2025-01-04T15:30:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 문의 수정 일시
                    example: '2025-01-04T15:30:00.000Z'
                  reply:
                    type: object
                    nullable: true
                    description: 판매자 답변 (없으면 null)
                    properties:
                      id:
                        type: string
                        example: 'cmjtkol3p001np701h5r9w8yx'
                      content:
                        type: string
                        description: 답변 내용
                        example: '안녕하세요. 해당 제품은 면 80%, 폴리에스터 20% 혼방 원단입니다. 감사합니다!'
                      createdAt:
                        type: string
                        format: date-time
                        example: '2025-01-04T16:00:00.000Z'
                      updatedAt:
                        type: string
                        format: date-time
                        example: '2025-01-04T16:00:00.000Z'
                      user:
                        type: object
                        description: 답변 작성자 정보
                        properties:
                          id:
                            type: string
                            example: 'cmjthper90001p7017spnm7y5'
                          name:
                            type: string
                            example: '판매자닉네임'

        '404':
          description: 문의를 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의가 존재하지 않습니다.'

    patch:
      tags:
        - Inquiry
      summary: 문의 수정
      description: |
        작성한 문의를 수정합니다.

        인증 필요:
        `Bearer 토큰 필수`

        권한:
        문의 작성자(`BUYER`)만 수정 가능 (다른 사용자가 수정 시도 시 403 Forbidden)

        수정 가능 필드:
        title (선택)
        content (선택)
        isSecret (선택)

        제약사항:
        답변이 달린 문의도 수정 가능 (status 변경 없음)
      parameters:
        - name: id
          in: path
          required: true
          description: 문의 ID (CUID 포맷)
          schema:
            type: string
            example: 'cmjtkobr3001jp701z4x9n2kq'
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  minLength: 1
                  maxLength: 100
                  description: 수정할 제목 (선택)
                  example: '상품 재질 및 세탁 방법 문의'
                content:
                  type: string
                  minLength: 1
                  maxLength: 1000
                  description: 수정할 내용 (선택)
                  example: '면 100%인지 혼방인지 궁금하고, 세탁 시 주의사항도 알려주세요.'
                isSecret:
                  type: boolean
                  description: 비밀글 여부 (선택)
                  example: true
      responses:
        '200':
          description: 문의 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 문의 작성자 ID
                    example: 'cmjthper90001p7017spnm7y5'
                  productId:
                    type: string
                    description: 상품 ID
                    example: 'cmjtknx7h001dp701iu8z3mno'
                  title:
                    type: string
                    description: 수정된 제목
                    example: '상품 재질 및 세탁 방법 문의'
                  content:
                    type: string
                    description: 수정된 내용
                    example: '면 100%인지 혼방인지 궁금하고, 세탁 시 주의사항도 알려주세요.'
                  status:
                    type: string
                    description: 문의 상태 (수정해도 변경 안 됨)
                    enum:
                      - WaitingAnswer
                      - CompletedAnswer
                    example: 'WaitingAnswer'
                  isSecret:
                    type: boolean
                    description: 비밀글 여부
                    example: true
                  createdAt:
                    type: string
                    format: date-time
                    description: 문의 생성 일시
                    example: '2025-01-04T15:30:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 문의 수정 일시 (현재 시각으로 변경됨)
                    example: '2025-01-05T12:00:00.000Z'
        '400':
          description: 잘못된 요청 (유효성 검증 실패)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '유효성 검증에 실패했습니다.'
                  details:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          example: 'content'
                        message:
                          type: string
                          example: '내용은 1-1000자 이내여야 합니다.'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'
        '403':
          description: 권한 없음 (작성자가 아님)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의를 수정할 권한이 없습니다.'
        '404':
          description: 문의를 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의가 존재하지 않습니다.'
    delete:
      tags:
        - Inquiry
      summary: 문의 삭제
      description: |
        작성한 문의를 삭제합니다.

        인증 필요:
        `Bearer 토큰 필수`

        권한:
        문의 작성자만 삭제 가능
        다른 사용자가 삭제 시도 시 403 Forbidden

        삭제 동작:
        문의와 연관된 답변도 함께 삭제 (Cascade)
        삭제된 문의 정보를 응답으로 반환
      parameters:
        - name: id
          in: path
          required: true
          description: 문의 ID (CUID 포맷)
          schema:
            type: string
            example: 'cmjtkobr3001jp701z4x9n2kq'
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 문의 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 삭제된 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 문의 작성자 ID
                    example: 'cmjthper90001p7017spnm7y5'
                  productId:
                    type: string
                    description: 상품 ID
                    example: 'cmjtknx7h001dp701iu8z3mno'
                  title:
                    type: string
                    description: 제목
                    example: '상품 재질 및 세탁 방법 문의'
                  content:
                    type: string
                    description: 내용
                    example: '면 100%인지 혼방인지 궁금하고, 세탁 시 주의사항도 알려주세요.'
                  status:
                    type: string
                    description: 문의 상태
                    enum:
                      - WaitingAnswer
                      - CompletedAnswer
                    example: 'WaitingAnswer'
                  isSecret:
                    type: boolean
                    description: 비밀글 여부
                    example: true
                  createdAt:
                    type: string
                    format: date-time
                    description: 문의 생성 일시
                    example: '2025-01-04T15:30:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 문의 수정 일시
                    example: '2025-01-05T12:00:00.000Z'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'
        '403':
          description: 권한 없음 (작성자가 아님)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의를 삭제할 권한이 없습니다.'
        '404':
          description: 문의를 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의가 존재하지 않습니다.'

  /api/inquiries/{id}/replies:
    post:
      tags:
        - Inquiry
      summary: 답변 생성
      description: |
        문의에 대한 판매자 답변을 생성합니다.

        인증 필요:
        `Bearer 토큰 필수`

        권한:
        `SELLER` 전용 (자신의 스토어 상품에 대한 문의만 답변 가능, BUYER 시도 시 403 Forbidden)

        동작:
        답변 생성 시 문의 상태가 WaitingAnswer → CompletedAnswer로 자동 변경
        하나의 문의에 하나의 답변만 가능 (중복 생성 시 오류)

        제약사항:
        내용: 1-1000자
      parameters:
        - name: id
          in: path
          required: true
          description: 문의 ID (CUID 포맷)
          schema:
            type: string
            example: 'cmjtkobr3001jp701z4x9n2kq'
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                  minLength: 1
                  maxLength: 1000
                  description: 답변 내용
                  example: '안녕하세요. 해당 제품은 면 80%, 폴리에스터 20% 혼방 원단입니다. 세탁 시 미온수로 단독 세탁하시고 드라이는 피해주세요. 감사합니다!'
      responses:
        '201':
          description: 답변 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 생성된 답변 ID
                    example: 'cmjtkoqr7001pp701m9w5x3kl'
                  inquiryId:
                    type: string
                    description: 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 답변 작성자(판매자) ID
                    example: 'cmjthpery0003p701k9l2m5xq'
                  content:
                    type: string
                    description: 답변 내용
                    example: '안녕하세요. 해당 제품은 면 80%, 폴리에스터 20% 혼방 원단입니다. 세탁 시 미온수로 단독 세탁하시고 드라이는 피해주세요. 감사합니다!'
                  createdAt:
                    type: string
                    format: date-time
                    description: 답변 생성 일시
                    example: '2025-01-05T13:30:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 답변 수정 일시
                    example: '2025-01-05T13:30:00.000Z'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'
        '403':
          description: 권한 없음 (판매자가 아니거나 다른 스토어의 상품)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '답변을 생성할 권한이 없습니다.'
        '404':
          description: 문의를 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '문의가 존재하지 않습니다.'

    patch:
      tags:
        - Inquiry
      summary: 답변 수정
      description: |
        작성한 답변을 수정합니다.

        인증 필요:
        `Bearer 토큰 필수`

        권한:
        `SELLER` 전용 (답변 작성자만 수정 가능, 다른 판매자가 수정 시도 시 403 Forbidden)

        제약사항:
        내용: 1-1000자
      parameters:
        - name: id
          in: path
          required: true
          description: 답변 ID (CUID 포맷)
          schema:
            type: string
            example: 'cmjtkobr3001jp701z4x9n2kq'
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                  minLength: 1
                  maxLength: 1000
                  description: 수정할 답변 내용
                  example: '안녕하세요. 해당 제품은 면 80%, 폴리에스터 20% 혼방 원단입니다. 세탁 시 찬물로 단독 세탁 권장드리며, 건조기는 저온으로 사용해주세요. 감사합니다!'
      responses:
        '200':
          description: 답변 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: 답변 ID
                    example: 'cmjtkoqr7001pp701m9w5x3kl'
                  inquiryId:
                    type: string
                    description: 문의 ID
                    example: 'cmjtkobr3001jp701z4x9n2kq'
                  userId:
                    type: string
                    description: 답변 작성자(판매자) ID
                    example: 'cmjthpery0003p701k9l2m5xq'
                  content:
                    type: string
                    description: 수정된 답변 내용
                    example: '안녕하세요. 해당 제품은 면 80%, 폴리에스터 20% 혼방 원단입니다. 세탁 시 찬물로 단독 세탁 권장드리며, 건조기는 저온으로 사용해주세요. 감사합니다!'
                  createdAt:
                    type: string
                    format: date-time
                    description: 답변 생성 일시
                    example: '2025-01-05T13:30:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    description: 답변 수정 일시 (현재 시각으로 변경됨)
                    example: '2025-01-05T14:15:00.000Z'
        '400':
          description: 잘못된 요청 (유효성 검증 실패)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '유효성 검증에 실패했습니다.'
                  details:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          example: 'content'
                        message:
                          type: string
                          example: '내용은 1-1000자 이내여야 합니다.'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '인증이 필요합니다.'
        '403':
          description: 권한 없음 (답변 작성자가 아님)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '답변을 수정할 권한이 없습니다.'
        '404':
          description: 문의 또는 답변을 찾을 수 없음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: '답변이 존재하지 않습니다.'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT 액세스 토큰 (로그인 후 발급)
